# Скрипты для скачивания фотографий запусков SpaceX, NASA Astronomy Picture of the Day (APOD) и NASA Earth Polychromatic Imaging Camera (EPIC)

Данные скрипты позволяют предназначены для скачивания фотографий, используя API [SpaceX](https://github.com/r-spacex/SpaceX-API), 
NASA [APOD](https://api.nasa.gov/#apod), [EPIC](https://api.nasa.gov/#epic) для последующей их загрузки в открытую
группу Telegram, используя бота.

### Как установить

Необходимые компоненты:
* Python 3.*
* pip
* Виртуальное окружение (venv)

Порядок установки (Linux):

1. Склонируйте данный репозиторий на свой компьютер следующей командой:

```
git clone https://github.com/pashga/dvmn_api_lesson4
```

2. Откройте каталог с проектом в терминале:

```
cd [имя каталога с проектом]
```

3. Создайте виртуальное окружение:

```
python3 -m venv [название виртуального окружения, обычно .venv]
```

4. Активируйте виртуальное окружение:

```
source [каталог виртуального окружения]/bin/activate
```

5. Установите все необходимые библиотеки для корректной работы кода:

```
pip install -r requirements.txt
```
6. Для корректной работы скрипта необходимо создать в проекте ```.env``` файл, в котором требуется указать следующие переменные:

```NASA_API_TOKEN ```: API-ключ, необходимый для загрузки фотографий NASA. Его можно получить по данной [ссылке](https://api.nasa.gov/) 

```TELEGRAM_BOT_TOKEN```: API-ключ, необходимый для работы Телеграм бота. Инструкция для регистрации бота и получения данного ключа: [ссылка](https://way23.ru/%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B1%D0%BE%D1%82%D0%B0-%D0%B2-telegram.html)

```TELEGRAM_CHAT_ID```: Ссылка на канал, в который бот будет выкладывать фотографии в формате ```@ИМЯ_КАНАЛА```


### Основные скрипты

#### fetch_spacex_images.py
Данный скрипт позволяет скачивать фотографии запуска ракет SpaceX, используя [API](https://github.com/r-spacex/SpaceX-API). При запуске в качестве аргумента можно
указать ID определённого запуска.

Пример запуска:

```python
python3 fetch_spacex_images.py [ID запуска, как пример: 5eb87d47ffd86e000604b38a]
```

#### fetch_nasa_apod_images.py
Данный скрипт позволяет скачивать фотографии на тематику космоса, используя API NASA [APOD](https://api.nasa.gov/#apod). Для корректной
работы требуется получить API-ключ NASA по ссылке, указанной в п. 6.

Пример запуска:

```python
python3 fetch_nasa_apod_images.py
```

#### fetch_nasa_epic_images.py
Данный скрипт позволяет скачивать планеты Земля, используя API NASA [EPIC](https://api.nasa.gov/#epic)). Для корректной
работы также требуется получить API-ключ NASA по ссылке, указанной в п. 6.

Пример запуска:

```python
python3 fetch_nasa_epic_images.py
```

#### telegram_bot_random.py
Данный скрипт позволяет опубликовать в телеграм канале фотографии, скачанные с помощью скриптов выше в случайном порядке. 
При запуске в качестве аргумента можно указать периодичность публикации фото в часах. 
При запуске без аргументов, периодичность публикаций составляет одно фото в 4 часа. 
Также есть ограничение на размер фотографий: не больше 20 МБ.
Для корректной работы требуется получить API-ключ Telegram, по ссылке, указанной в п. 6, также необходимо
создать телеграм канал и получить ссылку на него в формате ```@ИМЯ_КАНАЛА```

Пример запуска:

```python
python3 telegram_bot.py [периодичность загрузки фотографий в часах, например 0.5]
```
#### telegram_bot_certain.py
Данный скрипт позволяет опубликовать определенную фотографию в телеграм канале.
Здесь также есть ограничение на размер фотографий: не больше 20 МБ.
Для корректной работы требуется получить API-ключ Telegram, по ссылке, указанной в п. 6, также необходимо
создать телеграм канал и получить ссылку на него в формате ```@ИМЯ_КАНАЛА```

Пример запуска:

```python
python3 telegram_bot_certain.py [ссылка на фото в формате images/фото.jpg]
```
### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
